<!DOCTYPE html> 
<html> 

<head> 
	<title> 
		LIVE DATA || COVID19 || INDIA
	</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src= 
"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> 
	</script> 
	
	<style>
table, td, th {  
  border: 1px solid #ddd;
  text-align:center;
  font-size: 18px;
  font-family: Roboto;
  margin: 10px;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 15px;
}
.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}

.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff; 
  border-bottom: 1px solid #d4d4d4; 
}

/*when hovering an item:*/
.autocomplete-items div:hover {
  background-color: #e9e9e9; 
}

/*when navigating through the items using the arrow keys:*/
.autocomplete-active {
  background-color: DodgerBlue !important; 
  color: #ffffff; 
}
.autocomplete {
  position: relative;
  display: inline-block;
}
</style>
	
	<!-- Script to get JSON file and display its content --> 
	<script type = "text/javascript" language="javascript"> 
		$(document).ready(function() { 
			
			 $("#get").click(function(event){ 
				$.getJSON('https://api.covid19india.org/state_district_wise.json', function(emp) { 
				    let val = $("input:text").val();
					let a = (emp[val]['districtData']);
					console.log(a);
					let dist="";
					let confirm="";
					$.each(a, function (key, data) {
    //console.log(key);
	confirm += "" + key + " ==> Confirmed Case -> " + data.confirmed + "  ==>    Unconfirmed Case -> ";
	
	
		
	   // confirm +=  data +" ";
	   let arr = (Object.keys(data));
		if(arr[2] == 'delta'){
		     
		    confirm+= data.delta.confirmed +" <br/><br/><hr/>";
		
	    }
		//console.log(confirm);
				
			 
		
        
		
		
    
	
	
        //console.log( data);
		//confirm += "UnConfirm Case: "  data. +"<br/>" ;
    
    
});

document.getElementById("demo1").innerHTML = confirm;
					
					
					
				}); 
				});
			
		}); 
	</script> 
	<script type = "text/javascript" language="javascript"> 
		$(document).ready(function() { 
			
			// $("#get").click(function(event){ 
				$.getJSON('https://api.covid19india.org/data.json', function(totalCase) { 
					let deceased = totalCase['cases_time_series'];
					var deceasedCount=0;
					var affectedCount=0;
					var recoveredCount=0;
					//console.log(deceased.length);
					for(i=0;i<deceased.length;i++){
						deceasedCount += parseInt(deceased[i]['dailydeceased']);
						affectedCount += parseInt(deceased[i]['dailyconfirmed']);
						recoveredCount += parseInt(deceased[i]['dailyrecovered']);
						//console.log(deceasedCount);
					}
					console.log(deceasedCount);
					console.log(affectedCount);
					console.log(recoveredCount);
					document.getElementById("affected").innerHTML = affectedCount;
					document.getElementById("recovered").innerHTML = recoveredCount;
					document.getElementById("deceased").innerHTML = deceasedCount;
				});
				
				});
	</script>
	
</head> 
	
<body> 
	<h6 style="color:blue;text-align:right;">Last Update :&nbsp; <p style="color:green;" id="time"></p></h6>
	<br/>
	<center>
		<h4 class="text-center">ALL INDIA CASE | COVID19 LIVE</h4>
		<table>
			<thead>
				<th><h6><p style="color:blue;"><b>Confirmed Case</b></p></h6></th>
				<th><h6><p style="color:green;"><b>Recovered Case</b></p></h6></th>
				<th><h6><p style="color:red;"><b>Death Case</b></p></h6></th>
			</thead>
			<tbody>
				<tr>
					<td><b><button type="button" class="btn btn-primary" id="affected"></button></b></td>
					<td><b><button type="button" class="btn btn-success" id="recovered"></button></b</td>
					<td><b><button type="button" class="btn btn-danger" id="deceased"></button></b></td>
				</tr>
			</tbody>
		</table>

		
</center>
		<br/>
<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-heading">
				<h4 class="text-center">COVID19 LIVE CASE DATA : STATE & DISTRICT WISE</h4>
			</div>
			<hr />
			<div class="modal-body">
				<form action="" role="form">
					<div class="form-group">
						<div class="input-group">
							<span class="input-group-addon">
							<span class="glyphicon glyphicon-user"></span>
							</span>
							<div class="autocomplete" style="width:300px;">
							<input type="text" id="state" class="form-control" placeholder="Enter State , Eg: Maharashtra" required />
							</div>
						</div>
					</div>
					

					<div class="form-group text-center">
						<button type="button" id="get" class="btn btn-success btn-lg">GET</button>
						<!--<a href="#" class="btn btn-link">forget Password</a>-->
					</div>

				</form>
			<!--	<p>@Vibes</p>-->
			</div>
		</div>
	</div>
	
	<center>
	<table id = "dem">
	
	
	<th id="demo1"></th>
	
	
	</table> 
		
		<br/><br/><br/>
		<div class="modal-subtitle">
				<h6 class="text-center" style="padding:15px;background:#8ee6a3;border-radius:10px;margin:10px;font-family:Roboto;">This Page is Designed & Developed By Debkanta Mondal<br/>
					**Real Time Data Source : Official Site of COVID19</h6>
			</div>
	</center>
		
	<script type="text/javascript">
         var timeDisplay = document.getElementById("time");


function refreshTime() {
  var dateString = new Date().toLocaleString("en-US", {timeZone: "Asia/Kolkata"});
  var formattedString = dateString.replace(", ", " - ");
  timeDisplay.innerHTML = formattedString;
}

setInterval(refreshTime, 1000);
	</script>
	
	<!--AutoComplete-->
	<script>
function autocomplete(inp, arr) {
  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      /*close any already open lists of autocompleted values*/
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      /*create a DIV element that will contain the items (values):*/
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "autocomplete-list");
      a.setAttribute("class", "autocomplete-items");
      /*append the DIV element as a child of the autocomplete container:*/
      this.parentNode.appendChild(a);
      /*for each item in the array...*/
      for (i = 0; i < arr.length; i++) {
        /*check if the item starts with the same letters as the text field value:*/
        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
          /*create a DIV element for each matching element:*/
          b = document.createElement("DIV");
          /*make the matching letters bold:*/
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          /*insert a input field that will hold the current array item's value:*/
          b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          /*execute a function when someone clicks on the item value (DIV element):*/
          b.addEventListener("click", function(e) {
              /*insert the value for the autocomplete text field:*/
              inp.value = this.getElementsByTagName("input")[0].value;
              /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
              closeAllLists();
          });
          a.appendChild(b);
        }
      }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "autocomplete-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
        /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
        currentFocus++;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 38) { //up
        /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
        currentFocus--;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 13) {
        /*If the ENTER key is pressed, prevent the form from being submitted,*/
        e.preventDefault();
        if (currentFocus > -1) {
          /*and simulate a click on the "active" item:*/
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
  });
}

/*An array containing all the country names in the world:*/
var states = ["West Bengal","Maharashtra","Karnataka","Himachal Pradesh","Andhra Pradesh","Madhya Pradesh","Gujarat","Rajasthan","Kerala","Tamil Nadu","Haryana",
"Punjab","Bihar","Delhi","Uttar Pradesh","Uttarakhand","Ladakh","Arunachal Pradesh","Assam","Chhattisgarh","Goa","Jharkhand","Manipur","Mizoram","Nagaland",
"Odisha","Sikkim","Telengana","Tripura","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Jammu and Kashmir","Lakshadweep","Puducherry"];
/*initiate the autocomplete function on the "myInput" element, and pass along the countries array as possible autocomplete values:*/
autocomplete(document.getElementById("state"), states);
</script>
		
</body> 
	<script language="JavaScript">

  window.onload = function() {
    document.addEventListener("contextmenu", function(e){
      e.preventDefault();
    }, false);
    document.addEventListener("keydown", function(e) {
    //document.onkeydown = function(e) {
      // "I" key
      if (e.ctrlKey && e.shiftKey && e.keyCode == 73) {
        disabledEvent(e);
      }
      // "J" key
      if (e.ctrlKey && e.shiftKey && e.keyCode == 74) {
        disabledEvent(e);
      }
      // "S" key + macOS
      if (e.keyCode == 83 && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
        disabledEvent(e);
      }
      // "U" key
      if (e.ctrlKey && e.keyCode == 85) {
        disabledEvent(e);
      }
      // "F12" key
      if (event.keyCode == 123) {
        disabledEvent(e);
      }
    }, false);
    function disabledEvent(e){
      if (e.stopPropagation){
        e.stopPropagation();
      } else if (window.event){
        window.event.cancelBubble = true;
      }
      e.preventDefault();
      return false;
    }
  };
</script>
</html> 
